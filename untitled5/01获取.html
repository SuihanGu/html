<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
<!--  <table>-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th>#</th>-->
<!--      <th>name</th>-->
<!--      <th>作者</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->

<!--    </tbody>-->
<!--  </table>-->
</div>

<script>
  var xhr=new XMLHttpRequest();
  xhr.open("get","db/user.json");

  xhr.send();

  xhr.onreadystatechange=function () {
    if(xhr.readyState==4)
    {
      if(xhr.status==200)
      {
        var obj=JSON.parse(xhr.responseText);
        // console.log(obj);
        // 直接打不合适，打表
        // document.getElementById("app").innerHTML=xhr.responseText;
        showData(obj);
        // document.getElementById("app").innerHTML=html;

      }
    }


  }
  function template(obj) {
    var html= "  <table>" +
            "    <thead>" +
            "    <tr>" +
            "      <th>#</th>" +
            "      <th>name</th>" +
            "      <th>作者</th>" +
            "    </tr>" +
            "    </thead>" +
            "    <tbody>" ;
            for(let i=0;i<obj.length;i++)
            {
              html+="<tr>";
              html+="<td>"+obj[i].id+"</td>";
              html+="<td>"+obj[i].name+"</td>";
              html+="<td>"+obj[i].author+"</td>";
              html+="</tr>";
            }
            html+= "    " +
            "    </tbody>" +
            "  </table>"
            return html;



  }
  function showData(obj) {
      var html= template(obj)
      document.getElementById("app").innerHTML=html;
  }
</script>
</body>
</html>